<!doctype html>
<html charset="utf-8">
<title>Pitagora</title>
<style>
body {
  width = 1000px;
  margin: 0 auto;
  color: white;
  background: #344; }
h1 { color: #223344; }
section {
  width: 800px;
  margin: 0 auto; }
canvas {
  display: block;
  width: 800px;
  height: 600px;
  margin: 20px auto 0;
  color: blue;
  background: white;
}
</style>
<body onload="change()">
  <h1>Pitagora</h1>
  <!--<section>
    <button onclick="selectCircle()">Circle</button>
    <button onclick="selectSquare()">Square</button>
    <button onclick="selectTriangle()">Triangle</button>
  </section>-->

  <canvas id="pitagora" width="800" height="600"></canvas>
  <section id="controls">
    rectangle a side:<br>
    <input id="slider-rectangle-a" type="range" min="0" max="800" step="1" value="300" oninput="change()"><br>
    rectangle b side:<br>
    <input id="slider-rectangle-b" type="range" min="0" max="600" step="1" value="200" oninput="change()"><br>
    triangle angle:<br>
    <input id="slider-triangle" type="range" min="0" max="100" step="1" value="75" oninput="change()"><br>
    circle radius:<br>
    <input id="slider-r" type="range" min="0" max="300" step="1" value="100" oninput="change()"><br>
    radius: <span id="circleRadius"></span><br>
    diameter: <span id="circleDiameter"></span><br>
    circumference: <span id="circleCircumference"></span><br>
    area: <span id="circleArea"></span>
  </section>
  <script>
function change () {
  function drawRectangle (a,b) {
    var sideH = a / 2;
    var sideV = b / 2;
    context.beginPath();
    context.moveTo(centerX-sideH,centerY+sideV);
    context.lineTo(centerX+sideH,centerY+sideV);
    context.lineTo(centerX+sideH,centerY-sideV);
    context.lineTo(centerX-sideH,centerY-sideV);
    context.lineTo(centerX-sideH,centerY+sideV);
    context.stroke(); }

  function drawCircle (radius) {
    context.beginPath();
    context.arc(centerX,centerY,radius,0,2*Math.PI);
    context.stroke();

    // draw radius
    context.beginPath();
    context.moveTo(centerX,centerY);
    context.lineTo(centerX+radius,centerY);
    context.stroke(); }

  function drawTriangle (triX,triY) {
    context.beginPath();
    context.moveTo(centerX-r,centerY);
    context.lineTo(centerX+r,centerY);
    context.lineTo(triX,triY);
    context.lineTo(centerX-r,centerY);
    context.stroke(); }

  var canvas = document.getElementById("pitagora");
  var centerX = canvas.width / 2;
  var centerY = canvas.height / 2;
  var context = canvas.getContext("2d");
  var r = parseInt(document.getElementById("slider-r").value);
  var triangle = parseInt(document.getElementById("slider-triangle").value);
  var perimeter = 2 * r * Math.PI;
  var area = r * r * Math.PI;
  var angle, triangleX, triangleY;
  var rectSideA = document.getElementById("slider-rectangle-a").value;
  var rectSideB = document.getElementById("slider-rectangle-b").value;

  perimeter = perimeter.toFixed(2);
  area = area.toFixed(2);
  context.clearRect(0, 0, canvas.width, canvas.height);

  angle = triangle / 100 * 2 * Math.PI
  triangleX = centerX + r * Math.cos(angle);
  triangleY = centerY + r * Math.sin(angle);

  drawCircle(r);
  drawTriangle(triangleX,triangleY);
  drawRectangle(rectSideA,rectSideB);

  document.getElementById("circleRadius").innerHTML = r;
  document.getElementById("circleDiameter").innerHTML = 2 * r;
  document.getElementById("circleCircumference").innerHTML = perimeter;
  document.getElementById("circleArea").innerHTML = area;
}
</script>
</body>
</html>
